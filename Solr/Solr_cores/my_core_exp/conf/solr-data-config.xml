<dataConfig>
<dataSource type="JdbcDataSource"
driver="com.mysql.jdbc.Driver"
url="jdbc:mysql://cdc-1.jcvi.org:3306/CDC?serverTimezone=PST"
user="cdc_app"
password="replaceDBpasswordnew"
batchSize="-1"
/>
<document>
<entity name="DataTransfer"
query="SELECT
    tmp_identity.ID,
    tmp_identity.Gene_Symbol,
    tmp_identity.Gene_Alternative_Names,
    tmp_identity.Protein_Alternative_Names,
    tmp_identity.Gene_Family,
    tmp_identity.Gene_Class,
    tmp_identity.Allele,
    tmp_identity.EC_Number,
    tmp_identity.Parent_Allele_Family,
    tmp_identity.Parent_Allele,
    tmp_identity.Source,
    tmp_identity.Source_ID,
    tmp_identity.HMM,
    tmp_identity.Protein_ID,
    tmp_identity.Protein_Name,
    tmp_identity.Pubmed_IDs,
    tmp_identity.Is_Active,
    tmp_identity.Status ,
    tmp_identity.IDSID ,
    tmp_identity.End3,
    tmp_identity.End5,
    tmp_identity.Feat_Type,
    tmp_identity.IDAID,
    tmp_identity.Mol_Type,
    tmp_identity.ASBID,
    tmp_identity.Is_Reference,
    tmp_identity.Assemly_Source,
    tmp_identity.Assemly_Source_ID,
    tmp_identity.Assemly_PubMed_IDs,
    tmp_identity.BioProject_ID,
    tmp_identity.Plasmid_Name ,
    tmp_identity.TAXID,
    tmp_identity.Taxon_ID,
    tmp_identity.Taxon_Kingdom,
    tmp_identity.Taxon_Phylum,
    tmp_identity.Taxon_Sub_Strain,
    tmp_identity.Taxon_Bacterial_BioVar,
    tmp_identity.Taxon_Class,
    tmp_identity.Taxon_Order,
    tmp_identity.Taxon_Family,
    tmp_identity.Taxon_Genus,
    tmp_identity.Taxon_Species,
    tmp_identity.Taxon_Sub_Species,
    tmp_identity.Taxon_Pathovar,
    tmp_identity.Taxon_Serotype,
    tmp_identity.Taxon_Strain,
    tmp_identity.SMID,
    tmp_identity.Isolation_site,
    tmp_identity.Serotyping_Method,
    tmp_identity.Source_Common_Name,
    tmp_identity.Specimen_Collection_Date,
    tmp_identity.Specimen_Collection_Location_Country,
    tmp_identity.Specimen_Collection_Year,
    tmp_identity.Specimen_Collection_Location,
    tmp_identity.Specimen_Collection_Location_Latitude,
    tmp_identity.Specimen_Collection_Location_Longitude,
    tmp_identity.Specimen_Source_Age,
    tmp_identity.Specimen_Source_Developmental_Stage,
    tmp_identity.Specimen_Source_Disease,
    tmp_identity.Specimen_Source_Gender,
    tmp_identity.Health_Status,
    tmp_identity.Treatment,
    tmp_identity.Specimen_Type,
    tmp_identity.Symptom,
    tl.Level ,
    cl.Drug  AS Drug,
    cl.Drug_Class AS Drug_class,
    cl.Drug_Family AS Drug_Family,
    cl.Mechanism_of_Action AS Mechanism_of_Action ,
    cl.SNP AS SNP ,
    cl.SNP_Pubmed_IDs AS Variants_PubMed_IDs ,
    anti.Antibiotic AS Antibiotic ,
    anti.Drug_Symbol AS Drug_Symbol,
    anti.Laboratory_Typing_Method AS Laboratory_Typing_Method,
    anti.Laboratory_Typing_Method_Version_or_Reagent AS Laboratory_Typing_Method_Version_or_Reagent,
    anti.Laboratory_Typing_Platform AS Laboratory_Typing_Platform ,
    anti.Measurement AS Measurement,
    Measurement_Sign AS Measurement_Sign,
    anti.Measurement_Units AS Measurement_Units,
    anti.Resistance_Phenotype AS Resistance_Phenotype,
    anti.Testing_Standard AS Testing_Standard ,
    anti.Vendor AS Vendor ,
    CONCAT(tmp_identity.ID,' '
                ,IFNULL( tmp_identity.Gene_Symbol, '')
                ,' ',IFNULL(tmp_identity.Gene_Alternative_Names,'')
                ,' ',IFNULL(tmp_identity.Protein_Alternative_Names,'')
                ,' ',IFNULL( tmp_identity.Gene_Family,'')
                ,' ',IFNULL( tmp_identity.Gene_Class,'')
                ,' ',IFNULL( tmp_identity.Allele,'')
                ,' ',IFNULL( tmp_identity.EC_Number,'')
                ,' ',IFNULL( tmp_identity.Parent_Allele_Family,'')
                ,' ', IFNULL( tmp_identity.Parent_Allele,'')
                ,' ', IFNULL( tmp_identity.Source,'')
                ,' ',IFNULL( tmp_identity.Source_ID,'')
                ,' ',IFNULL( tmp_identity.HMM,'')
                ,' ',IFNULL(tmp_identity.Protein_ID,'')
                ,' ',IFNULL(tmp_identity.Protein_Name,'')
                ,' ',IFNULL(tmp_identity.Pubmed_IDs,'')
                ,' ',IFNULL(tmp_identity.Is_Active,'')
                ,' ',IFNULL(tmp_identity.Status,'')
                ,' ',IFNULL(tmp_identity.IDSID,'')
                ,' ' ,IFNULL(tmp_identity.End3,'')
                ,' ',IFNULL(tmp_identity.End5,'')
                ,' ',IFNULL(tmp_identity.Feat_Type,'')
                , IFNULL(tmp_identity.IDAID,'')
                ,' ',IFNULL(tmp_identity.Mol_Type,'')
                ,' ',IFNULL(tmp_identity.ASBID,'')
                ,' ',IFNULL(tmp_identity.Is_Reference,'')
                ,' ',IFNULL(tmp_identity.Assemly_Source,'')
                ,' ',IFNULL(tmp_identity.Assemly_Source_ID,'')
                ,' ',IFNULL(tmp_identity.Assemly_PubMed_IDs,'')
                ,' ',IFNULL(tmp_identity.BioProject_ID,'')
                ,' ',IFNULL(tmp_identity.Plasmid_Name,'')
                ,' ',IFNULL(tmp_identity.TAXID,'')
                ,' ',IFNULL(tmp_identity.Taxon_ID,'')
                ,' ',IFNULL(tmp_identity.Taxon_Kingdom,'')
                ,' ',IFNULL(tmp_identity.Taxon_Phylum,'')
                ,' ',IFNULL(tmp_identity.Taxon_Sub_Strain,'')
                ,' ',IFNULL(tmp_identity.Taxon_Bacterial_BioVar,'')
                ,' ',IFNULL(tmp_identity.Taxon_Class,'')
                ,' ',IFNULL(tmp_identity.Taxon_Order,'')
                ,' ',IFNULL(tmp_identity.Taxon_Family,'')
                ,' ',IFNULL(tmp_identity.Taxon_Genus,'')
                , IFNULL(tmp_identity.Taxon_Species,'')
                ,' ',IFNULL(tmp_identity.Taxon_Sub_Species,'')
                ,' ',IFNULL(tmp_identity.Taxon_Pathovar,'')
                ,' ',IFNULL(tmp_identity.Taxon_Serotype,'')
                ,' ',IFNULL(tmp_identity.Taxon_Strain,'')
                ,' ',IFNULL(tmp_identity.SMID,'')
                ,' ',IFNULL(tmp_identity.Isolation_site,'')
                ,' ',IFNULL(tmp_identity.Serotyping_Method,'')
                ,' ',IFNULL(tmp_identity.Source_Common_Name,'')
                , IFNULL(tmp_identity.Specimen_Collection_Date,'')
                ,' ',IFNULL(tmp_identity.Specimen_Collection_Location_Country,'')
                ,' ',IFNULL(tmp_identity.Specimen_Collection_Year,'')
                ,' ',IFNULL(tmp_identity.Specimen_Collection_Location,'')
                ,' ',IFNULL(tmp_identity.Specimen_Collection_Location_Latitude,'')
                ,' ',IFNULL(tmp_identity.Specimen_Collection_Location_Longitude,'')
                , IFNULL(tmp_identity.Specimen_Source_Age,'')
                ,' ',IFNULL(tmp_identity.Specimen_Source_Developmental_Stage,'')
                ,' ',IFNULL(tmp_identity.Specimen_Source_Disease,'')
                ,' ',IFNULL(tmp_identity.Specimen_Source_Gender,'')
                ,' ',IFNULL(tmp_identity.Health_Status,'')
                ,' ',IFNULL(tmp_identity.Treatment,'')
                ,' ',IFNULL(tmp_identity.Specimen_Type,'')
                ,' ',IFNULL(tmp_identity.Symptom,'')
                ,' ',IFNULL(tl.Level,'') 
                ,' ',IFNULL(  cl.Drug  ,'')
                ,' ',IFNULL(cl.Drug_Class   ,'')
                ,' ',IFNULL(cl.Drug_Family   ,'')
                ,' ',IFNULL(cl.Mechanism_of_Action   ,'')
                , IFNULL(cl.SNP  ,'')
                ,' ',IFNULL(cl.SNP_Pubmed_IDs  ,'')
                , IFNULL(anti.Antibiotic  ,'')
                ,' ',IFNULL(anti.Drug_Symbol  ,'')
                ,' ',IFNULL(anti.Laboratory_Typing_Method  ,'')
                , IFNULL(anti.Laboratory_Typing_Method_Version_or_Reagent  ,'')
                ,' ',IFNULL(anti.Laboratory_Typing_Platform  ,'')
                ,' ',IFNULL(anti.Measurement  ,'')
                ,' ',IFNULL(Measurement_Sign  ,'')
                ,' ',IFNULL(anti.Measurement_Units  ,'')
                , IFNULL(anti.Resistance_Phenotype  ,'')
                ,' ',IFNULL(anti.Testing_Standard   ,'') 
                ,' ',IFNULL(anti.Vendor  ,'')) AS all_fields
FROM
       (select a.*,b.NA_Sequence,b.AA_Sequence 
        from tmp_identity a ,tmp_identity_seq b
        where  a.ID=b.id
        ) tmp_identity
RIGHT JOIN tmp_Threat_Level tl ON  tl.ID=tmp_identity.ID  
RIGHT JOIN tmp_classification_SNP cl on cl.ID=tmp_identity.ID
RIGHT JOIN  tmp_Antibiogram anti ON  tmp_identity.SMID = anti.Sample_Metadata_ID  
WHERE tmp_identity.ID is not null 
   
">
<!-- Identity table  -->
<field column="ID" name="ID"/>
<field column="Gene_Symbol" name="Gene_Symbol"/>
<field column="Allele" name="Allele"/>
<field column="EC_Number" name="EC_Number"/>
<field column="Parent_Allele_Family" name="Parent_Allele_Family"/>
<field column="Parent_Allele" name="Parent_Allele"/>
<field column="Source" name="Source"/>
<field column="Source_ID" name="Source_ID"/>
<field column="Protein_ID" name="Protein_ID"/>
<field column="Protein_Name" name="Protein_Name"/>
<field column="Pubmed_IDs" name="Pubmed_IDs"/>
<field column="Status" name="Status"/>
<field column="Created_Date" name="Created_Date"/>
<field column="Modified_Date" name="Modified_Date"/>
<field column="Created_By" name="Created_By"/>
<field column="Modified_By" name="Modified_By"/>
<!-- Classification table  -->
<field column="Drug_Name" name="Drug_Name"/>
<field column="Drug_Class" name="Drug_Class"/>
<field column="Drug_Family" name="Drug_Family"/>
<field column="Drug_Sub_Class" name="Drug_Sub_Class"/>
<field column="Identity_ID" name="Identity_ID"/>
<field column="	Is_Active" name="Is_Active"/>
</entity>
</document>
</dataConfig>

